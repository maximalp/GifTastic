<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>GifTastic</title>
</head>

<body>

<div class="buttonZone">

</div>

<div id="gif-area">
</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript">

var topics = ["cat", "rat", "dinosaur", "fox"];

function topicButtons(animalIndex)
{
  var animalButton = $("<button>");

  animalButton.text(topics[animalIndex]);

  animalButton.attr("data-animalName", topics[animalIndex]);


  $(".buttonZone").append(animalButton);
};

for (i = 0; i < topics.length; i++)
{
  topicButtons(i);
};


$("button").on("click", function() {
  // Grabbing and storing the data-animal property value from the button
  var animal = $(this).attr("data-animalName");

  // Constructing a queryURL using the animal name
  var queryURL = "https://api.giphy.com/v1/gifs/search?q=" +
    animal + "&api_key=dc6zaTOxFJmzC&limit=10";

  // Performing an AJAX request with the queryURL
  $.ajax({
      url: queryURL,
      method: "GET"
    })
    // After data comes back from the request
    .done(function(response) {
      console.log(queryURL);

      console.log(response);

      var results = response.data;

        for (var i = 0; i < results.length; i++)
        {
        var animalDiv = $("<div>");

        var p = $("<p>").text("Rating: " + results[i].rating);

        var animalImage = $("<img>");

        animalImage.attr("src", results[i].images.fixed_height.url);
      //  console.log(results[i].images.fixed_height.url);

        animalDiv.append(p);
        animalDiv.append(animalImage);

        $("#gif-area").prepend(animalDiv);

        };


  });
    });



</script>

</body>

</html>
